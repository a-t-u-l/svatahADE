<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Behaviour driven automation platform" />
    <meta name="author" content="svatah" />

    <title>Svatah ADE</title>

    <!-- Bootstrap core CSS     -->
    <link href="./../css/bootstrap.min.css?v=1.0.5" rel="stylesheet" />
    <!--  Material Dashboard CSS    -->
    <link href="./../css/black-dashboard.css?v=1.1.45455" rel="stylesheet" />
    <!--     Fonts and icons     -->
    <link href="./../css/font-awesome.min.css" rel="stylesheet" type='text/css' />
    <link href='./../css/material-icons-fonts.css' rel='stylesheet' type='text/css' />
    <link href="./../css/poppins-fonts.css" rel="stylesheet" />
    <link href="./../css/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <link href="./../css/svatah.css" rel="stylesheet" />
    <link href="./../css/trumbowyg.css" rel="stylesheet" />

    <style type="text/css">
        .buttonload {
            background-color: #4CAF50;
            /* Green background */
            border: none;
            /* Remove borders */
            color: white;
            /* White text */
            padding: 12px 24px;
            /* Some padding */
            font-size: 16px;
            /* Set a font-size */
        }

        /* Add a right margin to each icon */
        .fa {
            margin-left: -12px;
            margin-right: 8px;
        }

        #jsoneditor {
            height: 600px;
        }
    </style>
</head>

<body id="bod" class="white-content">
    <div class="wrapper" style="border-top: 2px solid #e6b31c;">
        <div id="sidebar" class="sidebar" data-color="orange" data-image="#">
            <div class="logo">
                <a href="./home.html" target="_blank" class="simple-text logo-mini">
                    S
                </a>
                <a href="./home.html" target="_blank" class="simple-text logo-normal">
                    Svatah
                </a>
            </div>
            <div class="sidebar-wrapper">
                <ul class="nav">

                    <li class="project active">
                        <a href="./project.html" data-toggle="tooltip" data-placement="right" title="project">
                            <i class="material-icons">assessment</i>
                            <p>View Projects</p>
                        </a>
                    </li>

                    <li class="newuiproject">
                        <a href="./newproject.html" data-toggle="tooltip" data-placement="right" title="newproject">
                            <i class="material-icons">note_add</i>
                            <p>New Project</p>
                        </a>
                    </li>

                    <!-- <li class="newapiproject">
                        <a href="./apiproject.html" data-toggle="tooltip" data-placement="right" title="newproject">
                            <i class="material-icons">description</i>
                            <p>New API Project</p>
                        </a>
                    </li> -->

                    <li class="api-client">
                        <a href="./apiclient.html" data-toggle="tooltip" data-placement="right" title="API client">
                            <i class="material-icons">extension</i>
                            <p>API Client</p>
                        </a>
                    </li>

                    <li class="results">
                        <a href="./results.html" data-toggle="tooltip" data-placement="right" title="results">
                            <i class="material-icons">receipt</i>
                            <p>Results</p>
                        </a>
                    </li>

                    <li class="docs">
                        <a href="https://www.svatah.in/docs" target="_blank" data-toggle="tooltip" data-placement="right"
                            title="View docs" id="docsLink">
                            <i class="material-icons">description</i>
                            <p>Docs</p>
                        </a>
                    </li>

                    <li id="darkmode" class="theme">
                        <a class="toggle-label toggle-label-off" data-toggle="tooltip" data-placement="right"
                            title=" toggle dark mode">
                            <i id="darkmodeicon" class="material-icons">toggle_on</i>
                            <p>darkmode</p>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
        <div class="main-panel">
            <div class="content">
                <div class="container-fluid">
                    <!---Modal -->
                    <div class="modal fade" id="importModal" tabindex="-1" role="dialog"
                        aria-labelledby="importModalTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="card modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="importModalLongTitle">Import API request as JSON</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" style="color:#7d7f84;">
                                    <p>Paste your API request in Svatah JSON format</p>
                                    <textarea style="min-width: 100%" rows="11" value="" id="apiRequestImportJson"
                                        name="apiRequestImportJson"></textarea>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" onclick="importAPI()" class="btn btn-warning btn-simple"
                                        data-dismiss="modal">Import</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="importLocatorModal" tabindex="-1" role="dialog"
                    aria-labelledby="importLocatorModalTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="card modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="importLocatorModalLongTitle">Import locators</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" style="color:#7d7f84;">
                                <p>Paste your locators in Svatah JSON format</p>
                                <textarea style="min-width: 100%" rows="11" value="" id="locatorImportJson"
                                    name="locatorImportJson"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" onclick="importLocatorsRepository()" class="btn btn-warning btn-simple"
                                    data-dismiss="modal">Import</button>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="modal fade" id="exportLocatorModal" tabindex="-1" role="dialog"
                    aria-labelledby="exportLocatorModalTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="card modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exportLocatorModalLongTitle">Export locators as JSON</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <textarea style="min-width: 100%" rows="11" value="" id="locatorExportJson"
                                    name="locatorExportJson" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="modal fade" id="importDataModal" tabindex="-1" role="dialog"
                    aria-labelledby="importDataModalTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="card modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="iimportDataModalLongTitle">Import Data</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body" style="color:#7d7f84;">
                                <p>Paste your data mapping in Svatah JSON format</p>
                                <textarea style="min-width: 100%" rows="11" value="" id="dataImportJson"
                                    name="dataImportJson"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" onclick="importDataRepository()" class="btn btn-warning btn-simple"
                                    data-dismiss="modal">Import</button>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="modal fade" id="exportDataModal" tabindex="-1" role="dialog"
                    aria-labelledby="exportDataModalTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="card modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exportDataModalLongTitle">Export data as JSON</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <textarea style="min-width: 100%" rows="11" value="" id="dataExportJson"
                                    name="dataExportJson" disabled></textarea>
                            </div>
                        </div>
                    </div>
                    </div>

                    <!---Modal Ends-->

                    <div class="row">
                        <div class="col-sm-2 nav flex-column nav-pills wraptext" id="v-pills-tab" role="tablist">
                            <div class="nav-link" style="padding-top: 20px; background : #000; color : white;">Explorer
                            </div>
                            <div class="cross-page-line"></div>
                            <a class="nav-link active" id="v-pills-config-tab" data-toggle="pill" href="#v-pills-config"
                                role="tab" aria-controls="v-pills-config" aria-selected="true">Config</a>
                            <div class="cross-page-line"></div>
                            <a class="nav-link" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile"
                                role="tab" aria-controls="v-pills-profile" aria-selected="false">Data Repository</a>
                            <div class="cross-page-line"></div>
                            <a class="nav-link" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages"
                                role="tab" aria-controls="v-pills-messages" aria-selected="false">Locator Repository</a>
                            <div class="cross-page-line"></div>
                            <a class="nav-link" id="v-pills--add-flow-tab" data-toggle="pill" href="#v-pills-add-api"
                                role="tab" aria-controls="v-pills-add-api" aria-selected="false">API Repository</a>
                            <div class="cross-page-line"></div>
                            <a class="nav-link" id="v-pills--add-flow-tab" data-toggle="pill" href="#v-pills-add-flow"
                                role="tab" aria-controls="v-pills-add-flow" aria-selected="false">Flow Repository</a>
                            <div class="cross-page-line"></div>
                        </div>

                        <div class="hidden-for-mobile">
                            <div class="cross-page-line d-lg-none d-md-none d-xl-none"></div>
                        </div>

                        <div class="col-sm-10">
                            <div class="row">
                                <div id="alertbar" class="col">

                                </div>
                            </div>
                            <div class="form-horizontal" id="project">
                                <div class="tab-content" id="v-pills-tabContent">
                                    <div class="col-md-12 tab-pane fade show active" id="v-pills-config" role="tabpanel"
                                        aria-labelledby="v-pills-config-tab">

                                        <div class="card">
                                            <div class="card-header">
                                                <h4 class="card-title">Project Configuration</h4>
                                                <h6 class="card-title">define your project configuration. You can
                                                    define
                                                    more
                                                    configurations later for different builds.</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <input id="name" name="name" type="text"
                                                                placeholder="Project Name" class="form-control" value=""
                                                                disabled />
                                                            <small id="nameHelp" class="form-text text-muted">Enter
                                                                your
                                                                project's
                                                                name
                                                            </small>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <input id="configName" name="configName" type="text"
                                                                placeholder="Config Name" class="form-control" value=""
                                                                disabled />
                                                            <small id="configNameHelp" class="form-text text-muted">
                                                                Enter a
                                                                unique config name. This will be used later for your
                                                                builds.
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <input id="url" name="url" type="text"
                                                                placeholder="http://www.svatah.com" class="form-control"
                                                                value="" required />
                                                            <small id="urlHelp" class="form-text text-muted">Enter a
                                                                valid
                                                                url
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <select class="form-control" id="browser" name="browser"
                                                                type="text">
                                                                <option value="chrome">chrome</option>
                                                                <option value="firefox">firefox</option>
                                                            </select>
                                                            <small id="browserHelp" class="form-text text-muted">Choose
                                                                a
                                                                browser
                                                            </small>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <select class="form-control" id="takeStepScreenshot"
                                                                name="takeStepScreenshot" type="text">
                                                                <option value="false">false</option>
                                                                <!-- <option value="true">true</option> -->
                                                            </select>
                                                            <small id="takeStepScreenshotHelp"
                                                                class="form-text text-muted">
                                                                Choose
                                                                whether to take screenshot at each step
                                                            </small>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <select class="form-control" id="threadCount"
                                                                name="threadCount" type="text">
                                                                <option value="1">1</option>
                                                                <option value="2">2</option>
                                                                <option value="3">3</option>
                                                                <option value="4">4</option>
                                                                <option value="5">5</option>
                                                                <option value="6">6</option>
                                                                <option value="7">7</option>
                                                                <option value="8">8</option>

                                                            </select>
                                                            <small id="threadHelp" class="form-text text-muted">Enter
                                                                numbers of
                                                                executors which needs to get picked.
                                                            </small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 tab-pane fade" id="v-pills-profile" role="tabpanel"
                                        aria-labelledby="v-pills-profile-tab">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card text-left">
                                                    <div id="dataAlert" class="alert-danger" hidden="hidden">
                                                        <span>Data field/s can not have empty key or value!</span>
                                                    </div>
                                                    <div class="card-header">
                                                        <h4 class="card-title">Data repository</h4>
                                                        <h6 class="card-title">The data table fields are editable.
                                                            You
                                                            would
                                                            need to save the changes before submitting the flow.
                                                        </h6>
                                                    </div>
                                                    <div class="card-body">
                                                        <div id="data-table" class="table-editable">
                                                            <table class="table table-bordered table-responsive-md">
                                                                <tr class="table-active">
                                                                    <th style="font-weight: normal;">Variable Name</th>
                                                                    <th style="font-weight: normal;">Variable Value</th>
                                                                    <th></th>
                                                                </tr>
                                                                <!-- This is our clonable table line -->
                                                                <tr class="hide" hidden="hidden">
                                                                    <td contenteditable="true"></td>
                                                                    <td contenteditable="true"></td>
                                                                    <td>
                                                                        <span class="data-table-remove">
                                                                            <button type="button" rel="tooltip"
                                                                                title="Delete"
                                                                                class="btn btn-danger btn-link btn-sm">
                                                                                <i class="material-icons">delete</i>
                                                                            </button>
                                                                        </span>
                                                                    </td>
                                                                </tr>
                                                                <!-- ------------------------------- -->


                                                            </table>
                                                            <span id="addDataRow" class="data-table-add mb-3 mr-2">
                                                                <button type="button" rel="tooltip" title="Add"
                                                                    class="btn btn-yellow btn-link btn-sm"><i
                                                                        class="material-icons">add</i>
                                                                </button>
                                                            </span>
                                                            <span class="data-export-btn mb-3 mr-2">
                                                                <button id="data-export-btn" type="button"
                                                                    disabled="true" rel="tooltip" title="Export"
                                                                    class="btn btn-yellow btn-link btn-sm save-btn"><i
                                                                        class="material-icons">save</i>
                                                                </button>
                                                            </span>
                                                            <span>
                                                                    <button type="button" class="btn btn-sm btn-warning btn-link pull-right"
                                                                        data-toggle="modal" onClick="exportDataRepository()" data-target="#exportDataModal">
                                                                        export
                                                                    </button>
                                                                    <button type="button" class="btn btn-sm btn-warning btn-link pull-right"
                                                                        data-toggle="modal" data-target="#importDataModal">
                                                                        import
                                                                    </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <input id="dataEditor" name="dataFile" type="text"
                                                        class="form-control" value="" hidden="hidden" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 tab-pane fade" id="v-pills-messages" role="tabpanel"
                                        aria-labelledby="v-pills-messages-tab">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card text-left">
                                                    <div id="locatorAlert" class="alert-danger" hidden="hidden">
                                                        <span>Locator field/s can not have empty key or
                                                            value!</span>
                                                    </div>
                                                    <div class="card-header">
                                                        <h4 class="card-title">Locator repository</h4>
                                                        <h6 class="card-title">The locator table fields are
                                                            editable.
                                                            You
                                                            would
                                                            need to save the changes before submitting the flow.
                                                        </h6>
                                                    </div>
                                                    <div class="card-body">
                                                        <div id="locator-table" class="table-editable">
                                                            <table class="table table-bordered table-responsive-md">
                                                                <tr class="table-active">
                                                                    <th style="font-weight: normal;">Locator Identifier</th>
                                                                    <th style="font-weight: normal;">Locator Details</th>
                                                                    <th></th>
                                                                </tr>
                                                                <!-- This is our clonable table line -->
                                                                <tr class="hide" hidden="hidden">
                                                                    <td contenteditable="true"></td>
                                                                    <td contenteditable="true"></td>
                                                                    <td>
                                                                        <span class="locator-table-remove">
                                                                            <button type="button" rel="tooltip"
                                                                                title="Delete"
                                                                                class="btn btn-danger btn-link btn-sm">
                                                                                <i class="material-icons">delete</i>
                                                                            </button>
                                                                        </span>
                                                                    </td>
                                                                </tr>
                                                                <!-- ------------------------------- -->


                                                            </table>
                                                            <span class="locator-table-add mb-3 mr-2">
                                                                <button type="button" rel="tooltip" title="Add"
                                                                    class="btn btn-yellow btn-link btn-sm"><i
                                                                        class="material-icons">add</i>
                                                                </button>
                                                            </span>
                                                            <span class="locator-export-btn mb-3 mr-2">
                                                                <button id="locator-export-btn" type="button"
                                                                    disabled="true" rel="tooltip" title="Export"
                                                                    class="btn btn-yellow btn-link btn-sm locator-save-btn"><i
                                                                        class="material-icons">save</i>
                                                                </button>
                                                            </span>
                                                            <span>
                                                                    <button type="button" class="btn btn-sm btn-warning btn-link pull-right"
                                                                        data-toggle="modal" onClick="exportLocatorsRepository()" data-target="#exportLocatorModal">
                                                                        export
                                                                    </button>
                                                                    <button type="button" class="btn btn-sm btn-warning btn-link pull-right"
                                                                        data-toggle="modal" data-target="#importLocatorModal">
                                                                        import
                                                                    </button>
                                                                </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <input id="locatorEditor" name="locatorFile" type="text"
                                                        class="form-control" value="" hidden="hidden" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 tab-pane fade" id="v-pills-add-api" role="tabpanel"
                                        aria-labelledby="v-pills-add-api">
                                        <div class="row">
                                                <div class="col-md-12">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <button class="btn btn-link pull-right" type="button"
                                                                data-toggle="collapse" data-target="#collapse-api"
                                                                aria-expanded="false" aria-controls="collapseApiOne"><i
                                                                    class="material-icons">unfold_more</i>
                                                            </button>
                                                            <h4 class="card-title">API Repository</h4>
                                                        </div>
                                                        <div class="accordion" id="accordionApi">
                                                            <div class="card-body table-responsive">
                                                                <div id="collapse-api" class="collapse show"
                                                                    aria-labelledby="headingApiOne"
                                                                    data-parent="#accordionApi">
                                                                    <table class="table">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Name</th>
                                                                                <th>Method</th>
                                                                                <th>URL</th>
                                                                                <th>Actions</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody id="ApiView">
    
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h4 class="card-title">Request</h4>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Name</label>
                                                                    <input type="text" class="form-control"
                                                                        required="required" value="" id="apiname"
                                                                        name="name" required />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-2">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Http Method</label>
                                                                    <select id="httpMethod" name="httpMethod"
                                                                        type="text" class="form-control"
                                                                        onchange="getSelected(this);" value="GET">
                                                                        <option value="GET" id="getOption"
                                                                            selected="selected">GET
                                                                        </option>
                                                                        <option value="POST">POST</option>
                                                                        <option value="PUT">PUT</option>
                                                                        <option value="PATCH">PATCH</option>
                                                                        <option value="DELETE">DELETE</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-10">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Url</label>
                                                                    <input type="text" class="form-control"
                                                                        required="required" value="" id="uri" name="uri"
                                                                        required />
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Content Type</label>
                                                                    <select id="contentType" name="contentType"
                                                                        type="text" class="form-control" value="">
                                                                        <option value="json">Application&#47;Json
                                                                        </option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Accept All SSL
                                                                        Certificates</label>
                                                                    <select id="acceptAllSslCert"
                                                                        name="acceptAllSslCert" type="text"
                                                                        class="form-control" value="false">
                                                                        <option value="false" selected="selected">False
                                                                        </option>
                                                                        <option value="true">True</option>
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-4">
                                                                <div class="form-group label-floating">
                                                                    <label class="control-label">Follow
                                                                        Redirects</label>
                                                                    <select id="followRedirect" name="followRedirect"
                                                                        type="text" class="form-control" value="true">
                                                                        <option value="true" selected="selected">True
                                                                        </option>
                                                                        <option value="false">False</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- Editable table -->
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <input id="apiEditor" name="headers" type="text"
                                                                        class="form-control" value="" hidden="hidden" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12">
                                                                <div id="apiAlert" class="alert-danger" hidden="hidden">
                                                                    <span>Header field/s can not have empty key or
                                                                        value!</span>
                                                                </div>

                                                                <div id="api-header-table" class="table-editable">
                                                                    <table
                                                                        class="table table-bordered table-responsive-md">
                                                                        <tr>
                                                                            <th style="font-weight: normal;">Header Key</th>
                                                                            <th style="font-weight: normal;">Header Value</th>
                                                                            <th></th>
                                                                        </tr>
                                                                        <!-- This is our clonable table line -->
                                                                        <tr class="hide" hidden="hidden">
                                                                            <td contenteditable="true"></td>
                                                                            <td contenteditable="true"></td>
                                                                            <td>
                                                                                <span class="api-header-table-remove">
                                                                                    <button type="button" rel="tooltip"
                                                                                        title="Delete"
                                                                                        class="btn btn-danger btn-link btn-sm">
                                                                                        <i
                                                                                            class="material-icons">delete</i>
                                                                                    </button>
                                                                                </span>
                                                                            </td>
                                                                        </tr>
                                                                        <!-- ------------------------------- -->


                                                                    </table>
                                                                    <small id="variableHelp"
                                                                        class="form-text text-muted">Please
                                                                        define/change all the headers key and value
                                                                        accordingly in
                                                                        the
                                                                        header table.
                                                                    </small>
                                                                    <span class="api-header-table-add mb-3 mr-2">
                                                                        <button type="button" rel="tooltip" title="Add"
                                                                            class="btn btn-yellow btn-link btn-sm"><i
                                                                                class="material-icons">add</i>
                                                                        </button>
                                                                    </span>
                                                                    <span class="api-export-btn mb-3 mr-2">
                                                                        <button id="api-export-btn" type="button"
                                                                            disabled="true" rel="tooltip" title="Export"
                                                                            class="btn btn-yellow btn-link btn-sm api-header-save-btn"><i
                                                                                class="material-icons">save</i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div id="notGetDivCheck" style="display:none;" class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <label>Request Body</label>
                                                                    <div class="form-group label-floating">
                                                                        <div style="min-width :100%" rows="11" value=""
                                                                            id="requestBody" name="requestBody">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <hr />
                                                    <div class="card-footer text-muted">
                                                        <button type="button" class="btn btn-sm btn-warning btn-link"
                                                            data-toggle="modal" data-target="#importModal">
                                                            import
                                                        </button>
                                                        <button id="save-api-button" type="button" rel="tooltip"
                                                            disabled="true" title="Save API Request"
                                                            onclick="addApiToProject()"
                                                            class="btn btn-yellow btn-sm btn-simple pull-right">save
                                                            request
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-12 tab-pane fade" id="v-pills-add-flow" role="tabpanel"
                                        aria-labelledby="v-pills-add-flow">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <button class="btn btn-link pull-right" type="button"
                                                            data-toggle="collapse" data-target="#collapse-flow"
                                                            aria-expanded="false" aria-controls="collapseFlowOne"><i
                                                                class="material-icons">unfold_more</i>
                                                        </button>
                                                        <h4 class="card-title">Flows Repository</h4>
                                                    </div>
                                                    <div class="accordion" id="accordionFlow">
                                                        <div class="card-body table-responsive">
                                                            <div id="collapse-flow" class="collapse show"
                                                                aria-labelledby="headingFlowOne"
                                                                data-parent="#accordionFlow">
                                                                <table class="table">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Flow Name</th>
                                                                            <th></th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody id="flowsView">

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card">
                                                    <div class="card-header">
                                                        <h4 class="card-title">User Journey Flows</h4>
                                                        <h6 class="card-title">Define your tests here using svatah
                                                            flow
                                                            specification.
                                                            A Single flow defines the one continuous path of journey
                                                            user
                                                            takes through the website.</h6>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="form-group">
                                                            <div class="col-md-12">
                                                                <input id="flowFileName" name="flowFileName" type="text"
                                                                    placeholder="Flow File Name" class="form-control"
                                                                    value="" required />
                                                                <small id="flowFileNameHelp"
                                                                    class="form-text text-muted">Enter flow
                                                                    file name
                                                                </small>
                                                            </div>
                                                        </div>

                                                        <div id="TextBoxesGroup">
                                                            <div class="form-group">
                                                                <div class="col-md-12">
                                                                    <div id="flowEditorContainer"
                                                                        class="trumbowyg-dark">
                                                                        <div id="flowEditor">

                                                                        </div>
                                                                    </div>
                                                                    <!-- <textarea id="flowEditor" name="flowFile"
                                                                        style="min-width: 100%"
                                                                        placeholder="Define you test flow here."
                                                                        rows="10" required></textarea>
                                                                    <textarea id="flowEditorContent"
                                                                        name="flowEditorContent" hidden="">
                                                                    </textarea> -->
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <span class="table-add mb-3 mr-2">
                                                                <button type="button" rel="tooltip" title="run"
                                                                    onclick="runTest()"
                                                                    class="btn btn-yellow btn-link btn-sm">
                                                                    <i class="material-icons">play_arrow</i>
                                                                </button>
                                                            </span>
                                                            <span class="table-add mb-3 mr-2">
                                                                <button id="save-flow-button" title="save"
                                                                    onclick="addFlowToProject()"
                                                                    class="btn btn-yellow btn-link btn-sm add-new-flow-btn">
                                                                    <i class="material-icons">save</i>
                                                                </button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="card-footer">
                                                        <span class="table-add mb-3 mr-2 pull-right">
                                                            <button id="create-project-button" onclick="createProject()"
                                                                class="btn btn-success create-new-project-btn"><i
                                                                    id="buttonLoader"></i>
                                                                Save Project
                                                            </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class="footer">
                        <p class="copyright pull-right">
                            &copy;
                            <script>
                                document.write(new Date().getFullYear())
                            </script>
                            <a href="./home.html" target="_blank">Svatah</a>, Behaviour Driven Automation Platform
                        </p>
                    </footer>
                </div>
            </div>
        </div>
    </div>
</body>


<!--   Core JS Files   -->
<script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>
<script src="./../js/jquery.min.js?v=3.4.0.1" type="text/javascript"></script>
<script src="./../js/popper.min.js?v=1.0.2" type="text/javascript"></script>
<script src="./../js/bootstrap.min.js?v=1.0.2" type="text/javascript"></script>
<script src="./../js/perfect-scrollbar.jquery.min.js?v=1.0.1"></script>
<!-- Material Dashboard javascript methods -->
<script src="./../js/black-dashboard.js?v=1.0.14"></script>
<script src="./../js/jsoneditor.min.js"></script>
<script src="./../js/svatah.js"></script>
<script src="./../js/newproject.js"></script>
<script src="./../js/viewproject.js"></script>
<script src="./../js/trumbowyg.js"></script>
<script src="./../js/jquery.textcomplete.js?v=1.0.0" type="text/javascript"></script>
<script>if (window.module) module = window.module;</script>

<script>
    $('#apiname').on('focus', function (event) {
        event.preventDefault();
        $('#save-api-button').attr('disabled', false);
    });

    $('#flowEditor').trumbowyg({
        resetCss: false,
        autogrowOnEnter: true,
        svgPath: './../css/img/trumbowyg-icons.svg',
        hideButtonTexts: true,
        btns: [
            ['fullscreen']
        ]
    });
</script>

<script>
    function getSelected(nameSelect) {
        if (nameSelect) {
            let getOptionValue = document.getElementById("getOption").value;
            if (getOptionValue == nameSelect.value) {
                document.getElementById("notGetDivCheck").style.display = "none";
            }
            else {
                document.getElementById("notGetDivCheck").style.display = "block";
            }
        }
        else {
            document.getElementById("notGetDivCheck").style.display = "block";
        }
    }
</script>

<script>
    let container = document.getElementById('requestBody');
    let options = {
        mode: 'text',
        modes: ['code', 'text'], // allowed modes
        onError: function (err) {
            alert(err.toString());
        },
        onModeChange: function (newMode, oldMode) {
            console.log('Mode switched from', oldMode, 'to', newMode);
        }
    };
    var json = '';
    var posteditor = new JSONEditor(container, options, json);
</script>

<script>
    let tableCounter = 3;
    var tableArr = ['#locator-table', '#data-table', '#api-header-table'];
    var exportButtonArr = ['#locator-export-btn', '#data-export-btn', '#api-export-btn'];
    let tableAddRowButtonArr = ['.locator-table-add', '.data-table-add', '.api-header-table-add'];
    let tableRemoveRowButtonArr = ['.locator-table-remove', '.data-table-remove', '.api-header-table-remove'];
    let createProjectButton = '#create-project-button';
    let editorArr = ['#locatorEditor', '#dataEditor', '#apiEditor'];

    for (let index = 0; index < tableCounter; index++) {
        $(tableAddRowButtonArr[index]).click(function () {
            var $clone = $(tableArr[index]).find('tr.hide').clone(true).removeClass('hide table-line');
            $(tableArr[index]).find('table').append($clone.prop("hidden", false));
            $(exportButtonArr[index]).prop("disabled", false);
            $(createProjectButton).prop("disabled", true);
        });

        $(tableRemoveRowButtonArr[index]).click(function () {
            $(this).parents('tr').detach();
            $(exportButtonArr[index]).prop("disabled", false);
            $(createProjectButton).prop("disabled", true);
        });

        $(tableArr[index]).on("click", 'tr td', function () {
            $(exportButtonArr[index]).prop("disabled", false);
            $(createProjectButton).prop("disabled", true);
        });

        // A few jQuery helpers for exporting only
        jQuery.fn.pop = [].pop;
        jQuery.fn.shift = [].shift;

        $(exportButtonArr[index]).click(function () {
            console.log('tableArr[index] : ' + tableArr[index])
            let $rows = $(tableArr[index]).find("tr:not(:hidden)");
            let headers = [];
            let data = [];

            // Get the headers (add special header logic here)
            $($rows.shift()).find('th:not(:empty)').each(function () {
                headers.push($(this).text().toLowerCase());
            });

            // Turn all existing rows into a loopable array
            $rows.each(function () {
                var $td = $(this).find('td');
                var h = {};

                // Use the headers from earlier to name our hash keys
                headers.forEach(function (header, i) {
                    h[header] = $td.eq(i).text();
                });
                console.log('val : ' + JSON.stringify(h))
                data.push(h);
            });

            // Output the result
            let flag = true;
            for (let member in data) {
                for (let field in data[member]) {
                    if (data[member][field] == '') {
                        flag = false;
                        break;
                    }
                    if (!flag) {
                        break;
                    }
                }
                if (!flag) {
                    break;
                }
            }
            if (flag) {
                console.log(JSON.stringify(data));
                $(editorArr[index]).val(JSON.stringify(data));
                $(exportButtonArr[index]).prop("disabled", true);
                $(createProjectButton).prop("disabled", false);
            }
            else {
                showAlert('alertbar', 'danger', 'can not save empty row')
                $(createProjectButton).prop("disabled", true)
            }
            flag = true;
        });

        $(createProjectButton).on('click', function () {
            if ($(exportButtonArr[0]).attr('disabled') == 'disabled' &&
                $(exportButtonArr[1]).attr('disabled') == 'disabled' &&
                $(exportButtonArr[2]).attr('disabled') == 'disabled' &&
                $('#save-api-button').attr('disabled') == 'disabled') {
                $(createProjectButton).prop('disabled', false);
            }
            else {
                showAlert('alertbar', 'danger', 'Please save repositories first ...')
                $(createProjectButton).prop('disabled', true);
            }
        });
    }
</script>

<script>
    $(document).ready(function () {
        {
            let locatorRows = $('#locator-table').find('tr:not(:empty)');
            let dataRows = $('#data-table').find('tr:not(:empty)');
            $("#locatorEditor").val(JSON.stringify(getFieldVal(locatorRows)));
            $("#dataEditor").val(JSON.stringify(getFieldVal(dataRows)));
        }
    });

    function getFieldVal($rows) {
        var headers = [];
        var data = [];
        // Get the headers (add special header logic here)
        $($rows.shift()).find('th:not(:empty)').each(function () {
            headers.push($(this).text().toLowerCase());
        });
        //console.log('headers : '+ JSON.stringify(headers));
        // Turn all existing rows into a loopable array
        $rows.each(function () {
            var $td = $(this).find('td');
            var h = {};
            
            // Use the headers from earlier to name our hash keys
            headers.forEach(function (header, i) {
                if($td.eq(i).text() != "")
                    h[header] = $td.eq(i).text();
            });
            if(!$.isEmptyObject(h))
                data.push(h);
        });
        return data;
    }

    $('#flowEditor').textcomplete([
        { // actions
            id: 'intent',
            words: ['clicks', 'click', 'clears', 'clear', 'get text', 'copy text', 'save text', 'getText', 'types', 'type', 'submits', 'click enter', 'submit', 'dismiss alert', 'dismisses alert', 'dismissAlert', 'accept alert', 'accepts alert', 'acceptAlert', 'waits', 'sleep', 'sleeps', 'waiting', 'wait', 'assert selected', 'check selected', 'is selected', 'assertSelected', 'assert not selected', 'is not selected', 'assertNotSelected', 'assert displayed', 'isDisplayed', 'is displayed', 'assertDisplayed', 'assert not displayed', 'is not displayed', 'assertNotDisplayed', 'assert enabled', 'is enabled', 'is not disabled', 'assertEnabled', 'assert disabled', 'is disabled', 'is not enabled', 'assertDisabled', 'assert element present', 'is element present', 'assertElementPresent', 'assert alert present', 'is alert present', 'assertAlertPresent', 'assert alert not present', 'is alert not present', 'assertAlertNotPresent', 'validate text', 'validates text', 'verifyText', 'verify text', 'validateText', 'contains text', 'validate contains text', 'verify contains text', 'verifyContainsText', 'validateContainsText', 'validate tag name', 'verifyTagName', 'verify tag name', 'validateTagName', 'validate attribute value', 'verifyAttributeValue', 'verify attribute value', 'validateAttributeValue', 'validate location', 'verifyLocation', 'verify location', 'validateLocation', 'validate dimension', 'verifyDimension', 'verify dimension', 'validateDimension', 'validate rectangle', 'verifyRectangle', 'verify rectangle', 'validateRectangle', 'accept the alert and validate alert text', 'accept the alert and validate displayed text', 'acceptAndValidateAlertText', 'reject the alert and validate alert text', 'reject the alert and validate displayed text', 'rejectAndValidateAlertText', 'invoke', 'call', 'hit', 'invoke without cookies', 'call without cookies', 'hit without cookies', 'selectByVisibleText', 'select by visible text', 'select by shown text', 'select', 'selectByIndex', 'select by index', 'selectByValue', 'select by value', 'select by sent value', 'deselectAll', 'deselect all', 'remove all selections', 'deselectByVisibleText', 'deselect by visible text', 'deselect by shown text', 'deselect', 'deselectByIndex', 'deselect by index', 'deselectByValue', 'deselect by value', 'deselect by sent value', 'assertMultipleSelectionSupported', 'assert multiple selection is supported', 'validate multiple selection is supported', 'assertMultipleSelectionNotSupported', 'assert multiple selection is not supported', 'validate multiple selection is not supported', 'scrollIntoView', 'scroll into view', 'scroll to view', 'scrollToBottom', 'scroll to bottom', 'scroll to page bottom', 'scroll to bottom of the page', 'scrollToTop', 'scroll to top', 'scroll to page top', 'scroll to top of the page', 'explicitWaitForElementPresence', 'wait for the presence', 'explicitWaitForElementVisibility', 'wait for the visibility'],
            match: /\+\b(\w{1,})$/,
            search: function (term, callback) {
                callback($.map(this.words, function (word) {
                    return word.indexOf(term) === 0 ? word : null;
                }));
            },
            index: 1,
            replace: function (word) {
                return '+' + word + '+ ';
            }
        },

        { // actions
            id: 'identity',
            words: function () {
                let wordArr = [];
                let locatorString = $("#locatorEditor").val();
                //console.log('locator : '+ locatorString);
                if (locatorString != null && locatorString != '') {
                    let locators = JSON.parse(locatorString);
                    if (Array.isArray(locators)) {
                        locators.forEach(function (item, index) {
                            wordArr.push(item['locator identifier']);
                        });
                    }
                    else {
                        console.log('locator set not defined');
                    }
                }
                return wordArr;
            },
            match: /\~\b(\w{1,})$/,
            search: function (term, callback) {
                callback($.map(this.words(), function (word) {
                    return word.indexOf(term) === 0 ? word : null;
                }));
            },
            index: 1,
            replace: function (word) {
                return '~' + word + '~ ';
            }
        },

        { // actions
            id: 'input',
            words: function () {
                let wordArr = [];
                let dataString = $("#dataEditor").val();
                //console.log('data : '+ dataString);
                if (dataString != null && dataString != '') {
                    let data = JSON.parse(dataString);
                    if (Array.isArray(data)) {
                        data.forEach(function (item, index) {
                            wordArr.push(item['variable name']);
                        });
                    }
                    else {
                        console.log('dataset not defined');
                    }
                }
                return wordArr;
            },
            match: /\*\b(\w{1,})$/,
            search: function (term, callback) {
                callback($.map(this.words(), function (word) {
                    return word.indexOf(term) === 0 ? word : null;
                }));
            },
            index: 1,
            replace: function (word) {
                return '*$' + word + '* ';
            }
        }

    ], {
            onKeydown: function (e, commands) {
                if (e.ctrlKey && e.keyCode === 74) { // CTRL-J
                    return commands.KEY_ENTER;
                }
            }
        });
</script>

</html>